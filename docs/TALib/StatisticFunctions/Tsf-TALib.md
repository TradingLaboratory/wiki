# Tsf ‚Äî –ü—Ä–æ–≥–Ω–æ–∑ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ä—è–¥–∞ (TSF)

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** `StatisticFunctions` ‚Ä¢ **–¢–∏–ø:** –†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É—é—â–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä

---

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

üí° **TSF** (Time Series Forecast) ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä, —Å—Ç—Ä–æ—è—â–∏–π –ª–∏–Ω–∏—é –ª–∏–Ω–µ–π–Ω–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –º–µ—Ç–æ–¥–æ–º –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è *—Å–ª–µ–¥—É—é—â–µ–≥–æ* –±–∞—Ä–∞. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø—Ä–æ—Å—Ç–æ–π –ª–∏–Ω–µ–π–Ω–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏, TSF —Å–º–µ—â—ë–Ω –≤–ø–µ—Ä—ë–¥ –Ω–∞ –æ–¥–∏–Ω –ø–µ—Ä–∏–æ–¥, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –æ–ø–µ—Ä–µ–∂–∞—é—â–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º. –ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–≥–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–∞ –∏ –≤—ã—è–≤–ª–µ–Ω–∏—è —Ç–æ—á–µ–∫ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞.

## –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á—ë—Ç–∞
```
–ù–∞–∫–ª–æ–Ω (m) = (N * Œ£(x¬∑y) - Œ£(x) * Œ£(y)) / (N * Œ£(x¬≤) - (Œ£(x))¬≤)
–°–º–µ—â–µ–Ω–∏–µ (b) = (Œ£(y) - m * Œ£(x)) / N
–ü—Ä–æ–≥–Ω–æ–∑ = b + m * N
```
–ì–¥–µ:
- `N` ‚Äî –ø–µ—Ä–∏–æ–¥ —Ä–∞—Å—á—ë—Ç–∞ (`optInTimePeriod`)
- `x` ‚Äî –∏–Ω–¥–µ–∫—Å—ã –±–∞—Ä–æ–≤ –≤–Ω—É—Ç—Ä–∏ –æ–∫–Ω–∞ (0, 1, 2, ..., N-1)
- `y` ‚Äî –∑–Ω–∞—á–µ–Ω–∏—è —Ü–µ–Ω—ã (–æ–±—ã—á–Ω–æ Close)
- `Œ£(x)` = N¬∑(N-1)/2, `Œ£(x¬≤)` = N¬∑(N-1)¬∑(2N-1)/6 ‚Äî –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ—Ç–æ–¥–∞
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|------------------------|----------|
| `inReal` | `ReadOnlySpan<T>` | ‚Äî | –í—Ö–æ–¥–Ω–æ–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ä—è–¥ (–æ–±—ã—á–Ω–æ —Ü–µ–Ω—ã –∑–∞–∫—Ä—ã—Ç–∏—è `Close`) |
| `inRange` | `Range` | –≤–µ—Å—å –º–∞—Å—Å–∏–≤ | –î–∏–∞–ø–∞–∑–æ–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| `optInTimePeriod` | `int` | `14` | –ü–µ—Ä–∏–æ–¥ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏: —á–µ–º –º–µ–Ω—å—à–µ ‚Äî –≤—ã—à–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Ü–µ–Ω–æ–≤—ã–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º, –Ω–æ –±–æ–ª—å—à–µ —à—É–º–∞. –ú–∏–Ω–∏–º—É–º 2 –±–∞—Ä–∞. |
| `outReal` | `Span<T>` | ‚Äî | –í—ã—Ö–æ–¥–Ω–æ–π –º–∞—Å—Å–∏–≤ —Å –≤–∞–ª–∏–¥–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω–¥–µ–∫—Å–æ–≤ –∏–∑ `outRange`) |
| `outRange` | `out Range` | ‚Äî | –î–∏–∞–ø–∞–∑–æ–Ω –∏–Ω–¥–µ–∫—Å–æ–≤ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –≤–∞–ª–∏–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è |

## –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—á—ë—Ç–∞

- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º—É—é —Ü–µ–Ω—É** –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –±–∞—Ä –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–µ–∫—É—â–µ–≥–æ –æ–∫–Ω–∞ —Ä–∞—Å—á—ë—Ç–∞.
- **Lookback-–ø–µ—Ä–∏–æ–¥**: `optInTimePeriod - 1` (–ø–µ—Ä–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ –±–∞—Ä–µ —Å –∏–Ω–¥–µ–∫—Å–æ–º `period-1`).
- –í—ã—Ö–æ–¥–Ω–æ–π –º–∞—Å—Å–∏–≤ `outReal` —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ *—Ç–µ–∫—É—â–µ–º—É* –±–∞—Ä—É (–Ω–æ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –∫–∞–∫ –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ –Ω–∞–∫–ª–∞–¥—ã–≤–∞—Ç—å –ª–∏–Ω–∏—é –Ω–∞ –≥—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω—ã.

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

‚úÖ **–î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**
‚Ä¢ –í—ã—è–≤–ª–µ–Ω–∏–µ —Å–∏–ª—ã –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Ç—Ä–µ–Ω–¥–∞
‚Ä¢ –ü–æ–∏—Å–∫ —Ç–æ—á–µ–∫ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è —Ü–µ–Ω—ã –∏ –ø—Ä–æ–≥–Ω–æ–∑–Ω–æ–π –ª–∏–Ω–∏–∏ –∫–∞–∫ —Å–∏–≥–Ω–∞–ª–æ–≤ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞
‚Ä¢ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–æ–µ–≤ —É—Ä–æ–≤–Ω–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏/—Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è
‚Ä¢ –û—Ü–µ–Ω–∫–∞ —É—Å–∫–æ—Ä–µ–Ω–∏—è/–∑–∞–º–µ–¥–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–∞ –ø–æ —É–≥–ª—É –Ω–∞–∫–ª–æ–Ω–∞ –ª–∏–Ω–∏–∏

üí° **–ò–¥–µ–∏ –¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π**
1. **–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —Ü–µ–Ω—ã –∏ TSF**: –ø–æ–∫—É–ø–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–∏ —Ü–µ–Ω—ã —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö –ª–∏–Ω–∏–∏ TSF, –ø—Ä–æ–¥–∞–∂–∞ ‚Äî —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑.
2. **–î–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏—è**: —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –º–µ–∂–¥—É –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ü–µ–Ω—ã –∏ –Ω–∞–∫–ª–æ–Ω–æ–º –ª–∏–Ω–∏–∏ TSF –∫–∞–∫ —Å–∏–≥–Ω–∞–ª –æ—Å–ª–∞–±–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–∞.
3. **–ö–∞–Ω–∞–ª –Ω–∞ –æ—Å–Ω–æ–≤–µ TSF**: –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤–µ—Ä—Ö–Ω–µ–π/–Ω–∏–∂–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü—ã –∫–∞–∫ ¬±2 —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç –ª–∏–Ω–∏–∏ –ø—Ä–æ–≥–Ω–æ–∑–∞.

‚ö†Ô∏è **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**
‚Ä¢ –°–∏–ª—å–Ω–æ –∑–∞–ø–∞–∑–¥—ã–≤–∞–µ—Ç –≤ –±–æ–∫–æ–≤–∏–∫–∞—Ö, –≥–µ–Ω–µ—Ä–∏—Ä—É—è –ª–æ–∂–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã
‚Ä¢ –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ –≤—ã–±—Ä–æ—Å–∞–º (—ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–º —Å–≤–µ—á–∞–º) –ø—Ä–∏ –º–∞–ª—ã—Ö –ø–µ—Ä–∏–æ–¥–∞—Ö
‚Ä¢ –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å ‚Äî —Ç—Ä–µ–±—É–µ—Ç –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ —Ç–∏–ø–∞ ATR

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∞–Ω–∞–ª–æ–≥–∞–º–∏
| –ö—Ä–∏—Ç–µ—Ä–∏–π | TSF | SMA | –õ–∏–Ω–µ–π–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è (–Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ) |
|----------|-----|-----|-------------------------------|
| **–¢–∏–ø** | –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É—é—â–∏–π | –ó–∞–ø–∞–∑–¥—ã–≤–∞—é—â–∏–π | –°–æ–≤–ø–∞–¥–∞—é—â–∏–π |
| **–†–µ–∞–∫—Ü–∏—è** | –ë—ã—Å—Ç—Ä–∞—è (–ø—Ä–∏ –º–∞–ª–æ–º –ø–µ—Ä–∏–æ–¥–µ) | –ú–µ–¥–ª–µ–Ω–Ω–∞—è | –°—Ä–µ–¥–Ω—è—è |
| **–®—É–º** | –í—ã—Å–æ–∫–∏–π –ø—Ä–∏ –º–∞–ª–æ–º –ø–µ—Ä–∏–æ–¥–µ | –ù–∏–∑–∫–∏–π | –°—Ä–µ–¥–Ω–∏–π |
| **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** | –õ–∏–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ü–µ–Ω—ã | –õ–∏–Ω–∏—è –ø–æ–¥ —Ü–µ–Ω–æ–π | –õ–∏–Ω–∏—è —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä —Ü–µ–Ω—ã |

## –¢–µ–≥–∏
#–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä/—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ #–ø—Ä–æ–≥–Ω–æ–∑ #—Ç—Ä–µ–Ω–¥ #–ª–∏–Ω–µ–π–Ω–∞—è-—Ä–µ–≥—Ä–µ—Å—Å–∏—è #TALib #Tsf